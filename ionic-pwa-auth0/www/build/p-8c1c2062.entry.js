import{r as t,h as e,H as r,a as i,c as n}from"./p-f4d894c7.js";import{g as o,c as s,a}from"./p-60e5b1e5.js";import{g as c}from"./p-8f72be08.js";import{a as l,c as u,b as h,d as f}from"./p-972edcb2.js";import{l as d,t as m,s as p,L as b,a as g,b as v}from"./p-44d33d9b.js";import{a as w}from"./p-580932be.js";import{c as y}from"./p-7840618d.js";const k=class{constructor(e){t(this,e)}render(){return e("ion-app",null,e("ion-router",{useHash:!1},e("ion-route",{url:"/",component:"app-home"}),e("ion-route",{url:"/profile/:name",component:"app-profile"})),e("ion-progress-bar",{color:"success",value:0}),e("ion-nav",null))}};k.style="ion-progress-bar{z-index:100}";const X=class{constructor(e){t(this,e)}componentDidLoad(){j((async()=>{const t=a(window,"hybrid");s.getBoolean("_testing")||import("./p-cea256ef.js").then((t=>t.startTapClick(s))),s.getBoolean("statusTap",t)&&import("./p-f01c5edf.js").then((t=>t.startStatusTap())),s.getBoolean("inputShims",C())&&import("./p-66557923.js").then((t=>t.startInputShims(s)));const e=await import("./p-f2660943.js");s.getBoolean("hardwareBackButton",t)?e.startHardwareBackButton():e.blockHardwareBackButton(),"undefined"!=typeof window&&import("./p-2e4e8117.js").then((t=>t.startKeyboardAssist(window))),import("./p-aef0bba0.js").then((t=>t.startFocusVisible()))}))}render(){const t=o(this);return e(r,{class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":s.getBoolean("_forceStatusbarPadding")}})}get el(){return i(this)}},C=()=>a(window,"ios")&&a(window,"mobile"),j=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};X.style="html.plt-mobile ion-app{user-select:none}html.plt-mobile ion-app [contenteditable]{user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}";class x{constructor(t,e){this.component=t,this.params=e,this.state=1}async init(t){if(this.state=2,!this.element){const e=this.component;this.element=await w(this.delegate,t,e,["ion-page","ion-page-invisible"],this.params)}}_destroy(){l(3!==this.state,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=3}}const z=(t,e,r)=>{if(!t)return!1;if(t.component!==e)return!1;const i=t.params;if(i===r)return!0;if(!i&&!r)return!0;if(!i||!r)return!1;const n=Object.keys(i),o=Object.keys(r);if(n.length!==o.length)return!1;for(const t of n)if(i[t]!==r[t])return!1;return!0},P=(t,e)=>t?t instanceof x?t:new x(t,e):null,R=class{constructor(e){t(this,e),this.ionNavWillLoad=n(this,"ionNavWillLoad",7),this.ionNavWillChange=n(this,"ionNavWillChange",3),this.ionNavDidChange=n(this,"ionNavDidChange",3),this.transInstr=[],this.animationEnabled=!0,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.animated=!0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=!!document.querySelector("ion-router")&&!this.el.closest("[no-router]"),void 0===this.swipeGesture){const t=o(this);this.swipeGesture=s.getBoolean("swipeBackEnabled","ios"===t)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await import("./p-f820ff63.js")).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}disconnectedCallback(){for(const t of this.views)d(t.element,b),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=this.views.length=0,this.destroyed=!0}push(t,e,r,i){return this.queueTrns({insertStart:-1,insertViews:[{component:t,componentProps:e}],opts:r},i)}insert(t,e,r,i,n){return this.queueTrns({insertStart:t,insertViews:[{component:e,componentProps:r}],opts:i},n)}insertPages(t,e,r,i){return this.queueTrns({insertStart:t,insertViews:e,opts:r},i)}pop(t,e){return this.queueTrns({removeStart:-1,removeCount:1,opts:t},e)}popTo(t,e,r){const i={removeStart:-1,removeCount:-1,opts:e};return"object"==typeof t&&t.component?(i.removeView=t,i.removeStart=1):"number"==typeof t&&(i.removeStart=t+1),this.queueTrns(i,r)}popToRoot(t,e){return this.queueTrns({removeStart:1,removeCount:-1,opts:t},e)}removeIndex(t,e=1,r,i){return this.queueTrns({removeStart:t,removeCount:e,opts:r},i)}setRoot(t,e,r,i){return this.setPages([{component:t,componentProps:e}],r,i)}setPages(t,e,r){return null==e&&(e={}),!0!==e.animated&&(e.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},r)}setRouteId(t,e,r,i){const n=this.getActiveSync();if(z(n,t,e))return Promise.resolve({changed:!1,element:n.element});let o;const s=new Promise((t=>o=t));let a;const c={updateURL:!1,viewIsReady:t=>{let e;const r=new Promise((t=>e=t));return o({changed:!0,element:t,markVisible:async()=>{e(),await a}}),r}};if("root"===r)a=this.setRoot(t,e,c);else{const n=this.views.find((r=>z(r,t,e)));n?a=this.popTo(n,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):"forward"===r?a=this.push(t,e,Object.assign(Object.assign({},c),{animationBuilder:i})):"back"===r&&(a=this.setRoot(t,e,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return s}async getRouteId(){const t=this.getActiveSync();return t?{id:t.element.tagName,params:t.params,element:t.element}:void 0}getActive(){return Promise.resolve(this.getActiveSync())}getByIndex(t){return Promise.resolve(this.views[t])}canGoBack(t){return Promise.resolve(this.canGoBackSync(t))}getPrevious(t){return Promise.resolve(this.getPreviousSync(t))}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!(!t||!this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const e=this.views,r=e.indexOf(t);return r>0?e[r-1]:void 0}async queueTrns(t,e){if(this.isTransitioning&&null!=t.opts&&t.opts.skipIfBusy)return Promise.resolve(!1);const r=new Promise(((e,r)=>{t.resolve=e,t.reject=r}));if(t.done=e,t.opts&&!1!==t.opts.updateURL&&this.useRouter){const e=document.querySelector("ion-router");if(e){const r=await e.canTransition();if(!1===r)return Promise.resolve(!1);if("string"==typeof r)return e.push(r,t.opts.direction||"back"),Promise.resolve(!1)}}return t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),r}success(t,e){if(this.destroyed)this.fireError("nav controller was destroyed",e);else if(e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),e.resolve(t.hasCompleted),!1!==e.opts.updateURL&&this.useRouter){const e=document.querySelector("ion-router");e&&e.navChanged("back"===t.direction?"back":"forward")}}failed(t,e){this.destroyed?this.fireError("nav controller was destroyed",e):(this.transInstr.length=0,this.fireError(t,e))}fireError(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this.destroyed?e.reject(t):e.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const e=this.getActiveSync(),r=this.getEnteringView(t,e);if(!e&&!r)throw new Error("no views in the stack to be removed");r&&1===r.state&&await r.init(this.el),this.postViewInit(r,e,t);const i=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&r!==e;i&&t.opts&&e&&("back"===t.opts.direction&&(t.opts.animationBuilder=t.opts.animationBuilder||r&&r.animationBuilder),e.animationBuilder=t.opts.animationBuilder);const n=i?await this.transition(r,e,t):{hasCompleted:!0,requiresTransition:!1};this.success(n,t),this.ionNavDidChange.emit()}catch(e){this.failed(e,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){const e=this.views.length;if(t.opts=t.opts||{},void 0===t.opts.delegate&&(t.opts.delegate=this.delegate),void 0!==t.removeView){l(void 0!==t.removeStart,"removeView needs removeStart"),l(void 0!==t.removeCount,"removeView needs removeCount");const e=this.views.indexOf(t.removeView);if(e<0)throw new Error("removeView was not found");t.removeStart+=e}void 0!==t.removeStart&&(t.removeStart<0&&(t.removeStart=e-1),t.removeCount<0&&(t.removeCount=e-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===e),t.insertViews&&((t.insertStart<0||t.insertStart>e)&&(t.insertStart=e),t.enteringRequiresTransition=t.insertStart===e);const r=t.insertViews;if(!r)return;l(r.length>0,"length can not be zero");const i=r.map((t=>t instanceof x?t:"component"in t?P(t.component,null===t.componentProps?void 0:t.componentProps):P(t,void 0))).filter((t=>null!==t));if(0===i.length)throw new Error("invalid views to insert");for(const e of i){e.delegate=t.opts.delegate;const r=e.nav;if(r&&r!==this)throw new Error("inserted view was already inserted");if(3===e.state)throw new Error("inserted view was already destroyed")}t.insertViews=i}getEnteringView(t,e){const r=t.insertViews;if(void 0!==r)return r[r.length-1];const i=t.removeStart;if(void 0!==i){const r=this.views,n=i+t.removeCount;for(let t=r.length-1;t>=0;t--){const o=r[t];if((t<i||t>=n)&&o!==e)return o}}}postViewInit(t,e,r){l(e||t,"Both leavingView and enteringView are null"),l(r.resolve,"resolve must be valid"),l(r.reject,"reject must be valid");const i=r.opts,n=r.insertViews,o=r.removeStart,s=r.removeCount;let a;if(void 0!==o&&void 0!==s){l(o>=0,"removeStart can not be negative"),l(s>=0,"removeCount can not be negative"),a=[];for(let r=0;r<s;r++){const i=this.views[r+o];i&&i!==t&&i!==e&&a.push(i)}i.direction=i.direction||"back"}const c=this.views.length+(void 0!==n?n.length:0)-(void 0!==s?s:0);if(l(c>=0,"final balance can not be negative"),0===c)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(n){let t=r.insertStart;for(const e of n)this.insertViewAt(e,t),t++;r.enteringRequiresTransition&&(i.direction=i.direction||"forward")}if(a&&a.length>0){for(const t of a)d(t.element,g),d(t.element,v),d(t.element,b);for(const t of a)this.destroyView(t)}}async transition(t,e,r){const i=r.opts,n=i.progressAnimation?t=>this.sbAni=t:void 0,a=o(this),c=t.element,l=e&&e.element,u=Object.assign({mode:a,showGoBack:this.canGoBackSync(t),baseEl:this.el,animationBuilder:this.animation||i.animationBuilder||s.get("navAnimation"),progressCallback:n,animated:this.animated&&s.getBoolean("animated",!0),enteringEl:c,leavingEl:l},i),{hasCompleted:h}=await m(u);return this.transitionFinish(h,t,e,i)}transitionFinish(t,e,r,i){const n=t?e:r;return n&&this.cleanup(n),{hasCompleted:t,requiresTransition:!0,enteringView:e,leavingView:r,direction:i.direction}}insertViewAt(t,e){const r=this.views,i=r.indexOf(t);i>-1?(l(t.nav===this,"view is not part of the nav"),r.splice(e,0,r.splice(i,1)[0])):(l(!t.nav,"nav is used"),t.nav=this,r.splice(e,0,t))}removeView(t){l(2===t.state||3===t.state,"view state should be loaded or destroyed");const e=this.views,r=e.indexOf(t);l(r>-1,"view must be part of the stack"),r>=0&&e.splice(r,1)}destroyView(t){t._destroy(),this.removeView(t)}cleanup(t){if(this.destroyed)return;const e=this.views,r=e.indexOf(t);for(let t=e.length-1;t>=0;t--){const i=e[t],n=i.element;n&&(t>r?(d(n,b),this.destroyView(i)):t<r&&p(n,!0))}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}onStart(){this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:"back",progressAnimation:!0}},void 0)}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,e,r){if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish((()=>{this.animationEnabled=!0}),{oneTimeCallback:!0});let i=t?-.001:.001;t?i+=c([0,0],[.32,.72],[0,1],[1,1],e)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=c([0,0],[1,0],[.68,.28],[1,1],e)[0]),this.sbAni.progressEnd(t?1:0,i,r)}}render(){return e("slot",null)}get el(){return i(this)}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}};R.style=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}";const E=class{constructor(e){t(this,e),this.type="determinate",this.reversed=!1,this.value=0,this.buffer=1}render(){const{color:t,type:i,reversed:n,value:a,buffer:c}=this,l=s.getBoolean("_testing"),u=o(this);return e(r,{role:"progressbar","aria-valuenow":"determinate"===i?a:null,"aria-valuemin":"0","aria-valuemax":"1",class:y(t,{[u]:!0,[`progress-bar-${i}`]:!0,"progress-paused":l,"progress-bar-reversed":"rtl"===document.dir?!n:n})},"indeterminate"===i?S():T(a,c))}},S=()=>e("div",{part:"track",class:"progress-buffer-bar"},e("div",{class:"indeterminate-bar-primary"},e("span",{part:"progress",class:"progress-indeterminate"})),e("div",{class:"indeterminate-bar-secondary"},e("span",{part:"progress",class:"progress-indeterminate"}))),T=(t,r)=>{const i=u(0,t,1),n=u(0,r,1);return[e("div",{part:"progress",class:"progress",style:{transform:`scaleX(${i})`}}),e("div",{class:{"buffer-circles-container":!0,"ion-hide":1===n},style:{transform:`translateX(${100*n}%)`}},e("div",{class:"buffer-circles-container",style:{transform:`translateX(-${100*n}%)`}},e("div",{part:"stream",class:"buffer-circles"}))),e("div",{part:"track",class:"progress-buffer-bar",style:{transform:`scaleX(${n})`}})]};E.style={ios:":host{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.3);--progress-background:var(--ion-color-primary, #3880ff);--buffer-background:var(--background);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{transform-origin:left top;transition:transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--buffer-background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{animation:primary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{animation:secondary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--buffer-background) 0%, var(--buffer-background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{animation-play-state:paused}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@keyframes primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes buffering{to{transform:translateX(-10px)}}:host{height:3px}",md:":host{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.3);--progress-background:var(--ion-color-primary, #3880ff);--buffer-background:var(--background);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{transform-origin:left top;transition:transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--buffer-background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{animation:primary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{animation:secondary-indeterminate-scale 2s infinite linear;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--buffer-background) 0%, var(--buffer-background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{animation-play-state:paused}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@keyframes primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes buffering{to{transform:translateX(-10px)}}:host{height:4px}"};const O=class{constructor(e){t(this,e),this.ionRouteDataChanged=n(this,"ionRouteDataChanged",7),this.url=""}onUpdate(t){this.ionRouteDataChanged.emit(t)}onComponentProps(t,e){if(t===e)return;const r=t?Object.keys(t):[],i=e?Object.keys(e):[];if(r.length===i.length){for(const i of r)if(t[i]!==e[i])return void this.onUpdate(t)}else this.onUpdate(t)}connectedCallback(){this.ionRouteDataChanged.emit()}static get watchers(){return{url:["onUpdate"],component:["onUpdate"],componentProps:["onComponentProps"]}}},L=t=>"/"+t.filter((t=>t.length>0)).join("/"),V=t=>{if(null==t)return[""];const e=t.split("?")[0].split("/").map((t=>t.trim())).filter((t=>t.length>0));return 0===e.length?[""]:e},U=async(t,e,r,i,n=!1,o)=>{try{const s=I(t);if(i>=e.length||!s)return n;await new Promise((t=>h(s,t)));const a=e[i],c=await s.setRouteId(a.id,a.params,r,o);return c.changed&&(r="root",n=!0),n=await U(c.element,e,r,i+1,n,o),c.markVisible&&await c.markVisible(),n}catch(t){return console.error(t),!1}},B=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",I=t=>{if(!t)return;if(t.matches(B))return t;return t.querySelector(B)||void 0},$=(t,e)=>e.find((e=>((t,e)=>{const{from:r,to:i}=e;if(void 0===i)return!1;if(r.length>t.length)return!1;for(let e=0;e<r.length;e++){const i=r[e];if("*"===i)return!0;if(i!==t[e])return!1}return r.length===t.length})(t,e))),D=(t,e)=>{const r=Math.min(t.length,e.length);let i=0;for(;i<r&&t[i].toLowerCase()===e[i].id;i++);return i},A=(t,e)=>{const r=new W(t);let i,n=!1;for(let t=0;t<e.length;t++){const o=e[t].path;if(""===o[0])n=!0;else{for(const e of o){const n=r.next();if(":"===e[0]){if(""===n)return null;i=i||[],(i[t]||(i[t]={}))[e.slice(1)]=n}else if(n!==e)return null}n=!1}}return n&&n!==(""===r.next())?null:i?e.map(((t,e)=>({id:t.id,path:t.path,params:_(t.params,i[e]),beforeEnter:t.beforeEnter,beforeLeave:t.beforeLeave}))):e},_=(t,e)=>t||e?Object.assign(Object.assign({},t),e):void 0,N=(t,e)=>{let r=null,i=0;for(const n of e){const e=A(t,n);if(null!==e){const t=G(e);t>i&&(i=t,r=e)}}return r},G=t=>{let e=1,r=1;for(const i of t)for(const t of i.path)":"===t[0]?e+=Math.pow(1,r):""!==t&&(e+=Math.pow(2,r)),r++;return e};class W{constructor(t){this.path=t.slice()}next(){return this.path.length>0?this.path.shift():""}}const q=t=>Array.from(t.children).filter((t=>"ION-ROUTE-REDIRECT"===t.tagName)).map((t=>{const e=F(t,"to");return{from:V(F(t,"from")),to:null==e?void 0:V(e)}})),H=t=>Y(M(t)),M=(t,e=t)=>Array.from(e.children).filter((t=>"ION-ROUTE"===t.tagName&&t.component)).map((e=>{const r=F(e,"component");if(null==r)throw new Error("component missing in ion-route");return{path:V(F(e,"url")),id:r.toLowerCase(),params:e.componentProps,beforeLeave:e.beforeLeave,beforeEnter:e.beforeEnter,children:M(t,e)}})),F=(t,e)=>e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null,Y=t=>{const e=[];for(const r of t)J([],e,r);return e},J=(t,e,r)=>{const i=t.slice();if(i.push({id:r.id,path:r.path,params:r.params,beforeLeave:r.beforeLeave,beforeEnter:r.beforeEnter}),0!==r.children.length)for(const t of r.children)J(i,e,t);else e.push(i)},K=class{constructor(e){t(this,e),this.ionRouteWillChange=n(this,"ionRouteWillChange",7),this.ionRouteDidChange=n(this,"ionRouteDidChange",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}async componentWillLoad(){console.debug("[ion-router] router will load"),await(I(document.body)?Promise.resolve():new Promise((t=>{window.addEventListener("ionNavWillLoad",t,{once:!0})}))),console.debug("[ion-router] found nav"),await this.onRoutesChanged()}componentDidLoad(){window.addEventListener("ionRouteRedirectChanged",f(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",f(this.onRoutesChanged.bind(this),100))}async onPopState(){const t=this.historyDirection();let e=this.getPath();const r=await this.runGuards(e);return!0!==r?("object"==typeof r&&(e=V(r.redirect)),!1):(console.debug("[ion-router] URL changed -> update nav",e,t),this.writeNavStateRoot(e,t))}onBackButton(t){t.detail.register(0,(t=>{this.back(),t()}))}async canTransition(){const t=await this.runGuards();return!0===t||"object"==typeof t&&t.redirect}async push(t,e="forward",r){t.startsWith(".")&&(t=new URL(t,window.location.href).pathname),console.debug("[ion-router] URL pushed -> updating nav",t,e);let i=V(t),n=t.split("?")[1];const o=await this.runGuards(i);if(!0!==o){if("object"!=typeof o)return!1;i=V(o.redirect),n=o.redirect.split("?")[1]}return this.setPath(i,e,n),this.writeNavStateRoot(i,e,r)}back(){return window.history.back(),Promise.resolve(this.waitPromise)}async printDebug(){console.debug("CURRENT PATH",this.getPath()),console.debug("PREVIOUS PATH",this.previousPath),(t=>{console.group(`[ion-core] ROUTES[${t.length}]`);for(const e of t){const t=[];e.forEach((e=>t.push(...e.path)));const r=e.map((t=>t.id));console.debug(`%c ${L(t)}`,"font-weight: bold; padding-left: 20px","=>\t",`(${r.join(", ")})`)}console.groupEnd()})(H(this.el)),(t=>{console.group(`[ion-core] REDIRECTS[${t.length}]`);for(const e of t)e.to&&console.debug("FROM: ",`$c ${L(e.from)}`,"font-weight: bold"," TO: ",`$c ${L(e.to)}`,"font-weight: bold");console.groupEnd()})(q(this.el))}async navChanged(t){if(this.busy)return console.warn("[ion-router] router is busy, navChanged was cancelled"),!1;const{ids:e,outlet:r}=await(async()=>{const t=[];let e,r=window.document.body;for(;e=I(r),e;){const i=await e.getRouteId();if(!i)break;r=i.element,i.element=void 0,t.push(i)}return{ids:t,outlet:e}})(),i=((t,e)=>{let r=null,i=0;const n=t.map((t=>t.id));for(const t of e){const e=D(n,t);e>i&&(r=t,i=e)}return r?r.map(((e,r)=>({id:e.id,path:e.path,params:_(e.params,t[r]&&t[r].params)}))):null})(e,H(this.el));if(!i)return console.warn("[ion-router] no matching URL for ",e.map((t=>t.id))),!1;const n=(t=>{const e=[];for(const r of t)for(const t of r.path)if(":"===t[0]){const i=r.params&&r.params[t.slice(1)];if(!i)return null;e.push(i)}else""!==t&&e.push(t);return e})(i);return n?(console.debug("[ion-router] nav changed -> update URL",e,n),this.setPath(n,t),await this.safeWriteNavState(r,i,"root",n,null,e.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const t=this.getPath();t&&$(t,q(this.el))&&this.writeNavStateRoot(t,"root")}onRoutesChanged(){return this.writeNavStateRoot(this.getPath(),"root")}historyDirection(){const t=window;null===t.history.state&&(this.state++,t.history.replaceState(this.state,t.document.title,t.document.location&&t.document.location.href));const e=t.history.state,r=this.lastState;return this.lastState=e,e>r||e>=r&&r>0?"forward":e<r?"back":"root"}async writeNavStateRoot(t,e,r){if(!t)return console.error("[ion-router] URL is not part of the routing set"),!1;const i=q(this.el),n=$(t,i);let o=null;n&&(this.setPath(n.to,e),o=n.from,t=n.to);const s=H(this.el),a=N(t,s);return a?this.safeWriteNavState(document.body,a,e,t,o,0,r):(console.error("[ion-router] the path does not match any route"),!1)}async safeWriteNavState(t,e,r,i,n,o=0,s){const a=await this.lock();let c=!1;try{c=await this.writeNavState(t,e,r,i,n,o,s)}catch(t){console.error(t)}return a(),c}async lock(){const t=this.waitPromise;let e;return this.waitPromise=new Promise((t=>e=t)),void 0!==t&&await t,e}async runGuards(t=this.getPath(),e=V(this.previousPath)){if(!t||!e)return!0;const r=H(this.el),i=N(t,r),n=N(e,r),o=i&&i[i.length-1].beforeEnter,s=n&&n[n.length-1].beforeLeave,a=!s||await s();if(!1===a||"object"==typeof a)return a;const c=!o||await o();return!1!==c&&"object"!=typeof c||c}async writeNavState(t,e,r,i,n,o=0,s){if(this.busy)return console.warn("[ion-router] router is busy, transition was cancelled"),!1;this.busy=!0;const a=this.routeChangeEvent(i,n);a&&this.ionRouteWillChange.emit(a);const c=await U(t,e,r,o,!1,s);return this.busy=!1,c&&console.debug("[ion-router] route changed",i),a&&this.ionRouteDidChange.emit(a),c}setPath(t,e,r){this.state++,((t,e,r,i,n,o,s)=>{let a=L([...V(this.root),...i]);r&&(a="#"+a),void 0!==s&&(a=a+"?"+s),"forward"===n?t.pushState(o,"",a):t.replaceState(o,"",a)})(window.history,0,this.useHash,t,e,this.state,r)}getPath(){return((t,e)=>{let r=t.pathname;if(this.useHash){const e=t.hash;r="#"===e[0]?e.slice(1):""}return((t,e)=>{if(t.length>e.length)return null;if(t.length<=1&&""===t[0])return e;for(let r=0;r<t.length;r++)if(t[r].length>0&&t[r]!==e[r])return null;return e.length===t.length?[""]:e.slice(t.length)})(V(e),V(r))})(window.location,this.root)}routeChangeEvent(t,e){const r=this.previousPath,i=L(t);return this.previousPath=i,i===r?null:{from:r,redirectedFrom:e?L(e):null,to:i}}get el(){return i(this)}};export{k as app_root,X as ion_app,R as ion_nav,E as ion_progress_bar,O as ion_route,K as ion_router}